<!DOCTYPE html>
<html data-theme="cupcake">


<head>
  <title>
    SBAY | Đăng ký
  </title>
  <meta name="author" content="Chung Le Ba">
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link href="https://cdn.jsdelivr.net/npm/daisyui@3.0.20/dist/full.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>

<body>


  <section>
    <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto h-screen  lg:py-0">
      <h1 class="mb-5 text-xl font-bold text-red-600 mt-5">Đăng ký tài khoản</h1>
      <a href="/" class="flex items-center mb-6 text-3xl font-semibold text-gray-900 dark:text-white">
        <img class="w-12 mr-2" src="./images/sbay-logo.png" alt="logo">
        Sales management
      </a>
      <div
        class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700">
        <div class="p-6 space-y-2 md:space-y-3 sm:p-8">

          <div class="space-y-4 md:space-y-3">
            <div>
              <label for="userPhone" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Số điện thoại
                làm việc (viết liền)</label>
              <input type="text" name="userPhone" id="userPhone"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="0989123456" required="">
            </div>
            <div>
              <label for="userEmail" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email:</label>
              <input type="email" name="userEmail" id="userEmail"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="abc...@gmail.com" required="">
            </div>
            <div>
              <label for="userName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Họ tên đầy
                đủ</label>
              <input type="text" name="userName" id="userName"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="Lê Hải Hà" required="">
            </div>

            <div>
              <label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Mật
                khẩu</label>
              <input type="password" name="password" id="password" placeholder="••••••••"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                required="">
            </div>
            <div>
              <label for="password1" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nhập lại mật
                khẩu</label>
              <input type="password1" name="password1" id="password1" placeholder="••••••••"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                required="">
            </div>
            <div class="flex items-center justify-between ">
              <a href="/" class="text-sm font-medium text-primary-600 hover:underline dark:text-primary-500">Đăng
                nhập?</a>
              <a href="/quen-mat-khau"
                class="text-sm font-medium text-primary-600 hover:underline dark:text-primary-500">Quên mật
                khẩu?</a>
            </div>
            <button onclick="dangKy()"
              class="w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">Đăng
              ký</button>
          </div>
        </div>
      </div>
      <a href="/" class="text-center mt-3 underline text-red-600">Về trang chủ</a>

    </div>
  </section>
  <script>
    function dangKy() {
      if(document.getElementById('password').value != document.getElementById('password1').value){
        alert("Mật khẩu không khớp với nhau!")
      } else {
        axios({
        method: 'post',
        url: 'http://localhost:3000/dang-ky',
        responseType: 'json',
        data: {
          userPhone: document.getElementById('userPhone').value,
          userEmail: document.getElementById('userEmail').value,
          userName: document.getElementById('userName').value,
          password: document.getElementById('password').value
        }
      })
        .then(function (res) {
          console.log(res);
          if (res.data.noiti == "Số điện thoại chưa đăng ký") {
            alert('Số điện thoại chưa đăng ký, vui lòng đăng nhập')
          } else if(res.data.noiti == 'success') {
            alert('Chúc mừng bạn đã đăng ký thành công !')
            window.location.href = ("/tai-khoan-doi-duyet")
          }  else if(res.data.noiti == "Found") {
            alert('Số điện thoại đã tồn tại, vui lòng sử dụng số điện thoại khác !')
          }
        });
      }
      
    }
    
  </script>
</body>

</html>